<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>WinterChat - Destek</title>
    <style>
        * { box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
        body { background: #0F172A; color: white; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .box { background: #1E293B; padding: 40px; border-radius: 15px; width: 500px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); border: 1px solid #334155; }
        .header { text-align: center; margin-bottom: 25px; }
        .title { color: #F43F5E; font-size: 24px; font-weight: bold; margin-bottom: 5px;}
        .subtitle { color: #94A3B8; font-size: 14px; }
        
        label { display: block; color: #94A3B8; font-size: 13px; margin-bottom: 8px; font-weight: bold; }
        select, textarea { width: 100%; padding: 12px; margin-bottom: 20px; border-radius: 8px; border: 1px solid #475569; background: #0B0F19; color: white; outline: none; }
        textarea { height: 120px; resize: none; font-family: inherit; }
        
        .btn-group { display: flex; gap: 10px; }
        button { flex: 1; padding: 14px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; transition: 0.2s; }
        .btn-send { background: #F43F5E; color: white; }
        .btn-send:hover { background: #E11D48; }
        .btn-back { background: #334155; color: white; }
        .btn-back:hover { background: #475569; }
    </style>
</head>
<body>
    <div class="box">
        <div class="header">
            <div class="title">ğŸ“¢ Destek & Rapor Merkezi</div>
            <div class="subtitle">KÃ¼fÃ¼r, hile bildirimi veya teknik hatalarÄ± buraya yazÄ±n.</div>
        </div>
        
        <label>Konu Kategorisi</label>
        <select id="report-type">
            <option value="Hata Bildirimi">âš™ï¸ Teknik Hata / Bug Buldum</option>
            <option value="KullanÄ±cÄ± Åikayeti">ğŸ‘¤ KullanÄ±cÄ± Åikayeti (KÃ¼fÃ¼r/Hile)</option>
            <option value="Ã–neri">ğŸ’¡ Sistem Ä°Ã§in Ã–neri</option>
        </select>
        
        <label>MesajÄ±nÄ±z / Åikayetiniz</label>
        <textarea id="report-text" placeholder="LÃ¼tfen detaylÄ±ca aÃ§Ä±klayÄ±n..."></textarea>
        
        <div class="btn-group">
            <button class="btn-back" onclick="window.location.href='index.html'">Ä°ptal</button>
            <button class="btn-send" onclick="raporGonder()">GÃ¶nder</button>
        </div>
    </div>

    <script>
        const activeUser = localStorage.getItem('activeUser');
        if(!activeUser) window.location.href = 'login.html';

        function raporGonder() {
            const tip = document.getElementById('report-type').value;
            const metin = document.getElementById('report-text').value.trim();

            if(!metin) return alert("LÃ¼tfen bir mesaj yazÄ±n!");

            // Yeni Rapor Objesi OluÅŸtur
            const yeniRapor = {
                gonderen: activeUser,
                kategori: tip,
                mesaj: metin,
                tarih: new Date().toLocaleString('tr-TR')
            };

            // RaporlarÄ± veritabanÄ±ndan Ã§ek, yoksa boÅŸ dizi oluÅŸtur
            let raporlarDB = JSON.parse(localStorage.getItem('winterReports')) || [];
            raporlarDB.push(yeniRapor); // Yeni raporu diziye ekle
            
            // VeritabanÄ±na geri kaydet
            localStorage.setItem('winterReports', JSON.stringify(raporlarDB));

            alert("âœ… Raporunuz baÅŸarÄ±yla adminlere iletildi. TeÅŸekkÃ¼r ederiz!");
            window.location.href = 'index.html'; // Ana sayfaya postala
        }
    </script>
</body>
</html>